"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[467],{3074:function(n,e,r){r.r(e),r.d(e,{default:function(){return _}});var t,o,i=r(1413),a=r(5861),s=r(885),c=r(168),l=r(4687),u=r.n(l),d=r(2791),p=r(7691),x=r(3898),h=r(3023),f=r(664),g=r(2978),m=(r(9970),r(6871)),w=(r(2827),r(6132)),v=r.n(w),b=(r(5259),r(4869)),j=r(6159),k=r(3563),Z=(r(3526),r(4237)),y=r(9696),S=(r(5872),r(184)),C=p.ZP.img(t||(t=(0,c.Z)(["\n  /* @media (max-width: 900px) {\n    width: 20px;\n  } */\n"]))),F=p.ZP.button(o||(o=(0,c.Z)(["\n  width: ",";\n  height: ",";\n  background: ",";\n  border-radius: ",";\n  ","\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  color: ",';\n  border: 1px solid rgba(0, 0, 0, 0.05);\n\n  font-family: "TT Commons";\n  font-size: 18px;\n  font-weight: 600;\n\n  margin: ',";\n\n  cursor: pointer;\n\n  @media (max-width: 1200px) {\n    width: 150px;\n    height: 50px;\n    font-size: 17px;\n  }\n  @media (max-width: 900px) {\n    width: 120px;\n    height: 45px;\n    font-size: 15px;\n  }\n  @media (max-width: 600px) {\n    width: 90px;\n    height: 40px;\n    font-size: 12px;\n    margin: 0 4px;\n  }\n  @media (max-width: 375px) {\n    width: 85px;\n    height: 37px;\n    font-size: 11px;\n  }\n"])),(function(n){var e;return null!==(e=n.width)&&void 0!==e?e:"154px"}),(function(n){var e;return null!==(e=n.height)&&void 0!==e?e:"60px"}),(function(n){return n.color}),(function(n){var e;return null!==(e=n.borderRadius)&&void 0!==e?e:"5px"}),(function(n){return n.border&&"border: 1px solid #000000;"}),(function(n){var e;return null!==(e=n.textColor)&&void 0!==e?e:"#ffffff"}),(function(n){var e;return null!==(e=n.margin)&&void 0!==e?e:"8px"}));function _(){var n=(0,d.useState)([]),e=(0,s.Z)(n,2),r=e[0],t=e[1],o=(0,d.useState)(!1),c=(0,s.Z)(o,2),l=c[0],p=(c[1],(0,y.Ug)()),w=(0,s.Z)(p,1)[0],_=(0,m.s0)(),E=(0,g.I0)(),I=(0,d.useState)(""),z=(0,s.Z)(I,2),D=z[0],O=z[1],P=(0,d.useState)(""),J=(0,s.Z)(P,2),R=J[0],A=J[1],T=(0,d.useState)(!1),N=(0,s.Z)(T,2),U=N[0],B=N[1],G=function(n){n.preventDefault(),(0,j.SV)(D,R).then((function(n){_("/2fa")})).catch((function(n){console.log("error: ",n),t(n.response.data)}))},L=function(){var n=(0,a.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_("/send-email");case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=(0,g.v9)((function(n){return n.reducer.auth&&n.reducer.auth.loggedIn}));return(0,d.useEffect)((function(){W&&_("/home")}),[W,_]),(0,S.jsx)(h.T3,{children:(0,S.jsxs)(h.W2,{margin:"100px auto",padding:"70px",borderRadius:"20px",children:[(0,S.jsx)(h.Dx,{margin:"30px",children:"Log In"}),(0,S.jsxs)("form",{onSubmit:G,style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},children:[(0,S.jsx)(h.BZ,{label:"Email",placeholder:"Enter your email here",imageSrc:f.RZ,type:"email",value:D,onChange:function(n){return O(n.target.value)}}),(0,S.jsx)(h.BZ,{label:"Password",placeholder:"Enter your password here",hintText:"Forgot Password?",onHintClick:L,imageSrc:f.$J,type:"password",value:R,onChange:function(n){return A(n.target.value)}}),(0,S.jsx)(h.Jg,{text:"Remember me",checked:U,onChange:function(){return B((function(n){return!n}))}}),r.non_field_errors&&(0,S.jsx)(h.nv,{color:"#FF5F5F",children:r.non_field_errors[0]}),l&&(0,S.jsx)(h.nv,{color:"#FF5F5F",children:"Please Enter a valid Email"}),(r.username||r.password)&&(0,S.jsx)(h.nv,{color:"#FF5F5F",children:"Fields cannot be empty"}),(0,S.jsx)(h.k2,{children:(0,S.jsx)(F,{color:"#00A652",type:"submit",onSubmit:G,children:"Log in"})})]}),(0,S.jsx)(h.iz,{children:"Or log in with"}),(0,S.jsxs)(h.k2,{children:[(0,S.jsxs)(F,{style:{backgroundColor:"white",color:"black",textColor:"#000"},children:[(0,S.jsx)(C,{margin:"8px -14px 0 -15px",width:"36px",src:f.OC,alt:"Google logo"}),"Google"]}),(0,S.jsx)(v(),{appId:"1083826272167616",callback:function(n){"unknown"===n.status||n.error||(0,b.Z)(n.accessToken,n.id).then((function(n){E((0,k.Z)({user:(0,i.Z)((0,i.Z)({},n.user),{},{key:n.token})})),_("/home")})).catch((function(n){var e;console.log(n),alert(n.response?n.response.data?null!==(e=n.response.data.non_field_errors)&&void 0!==e?e:JSON.stringify(n.response.data):JSON.stringify(n.response):n.message)}))},render:function(n){return(0,S.jsxs)(F,{onClick:n.onClick,style:{backgroundColor:"white",color:"black",textColor:"#000"},children:[(0,S.jsx)(C,{width:"22px",src:f.ED,alt:"Facebook logo"}),"\xa0 Facebook"]})}}),(0,S.jsx)(Z.ZP,{authOptions:{clientId:"com.crowdbotics.storeandsharevault.service",scope:"email name",redirectURI:"".concat(window.location.origin,"/login"),state:"state",nonce:"nonce",usePopup:!0},noDefaultStyle:!1,onSuccess:function(n){var e=n.authorization,r=e.code,t=e.id_token;w({access_token:r,id_token:t}).unwrap().then((function(n){console.log("loginWithAppleRes...",n),E((0,k.Z)({user:(0,i.Z)((0,i.Z)({},n.user),{},{key:n.token})})),_("/home")})).catch((function(n){console.log(n),alert(n.data?n.data.non_field_errors?JSON.stringify(n.data.non_field_errors):JSON.stringify(n.data):"Some error occurred")}))},onError:function(n){var e=n.error;return"popup_closed_by_user"!==e&&alert("Apple SignIn Error: \n ".concat(e))},skipScript:!1,render:function(n){return(0,S.jsxs)(F,(0,i.Z)((0,i.Z)({},n),{},{color:"#fff",textColor:"#000",children:[(0,S.jsx)(C,{margin:"4px -10px 0 -15px",width:"36px",src:f.iC,alt:"Apple logo"})," ","Apple"]}))}})]}),(0,S.jsxs)(h.nv,{children:["Don't have an account?"," ",(0,S.jsx)(h.xb,{to:"/signup",children:(0,S.jsx)(h.nv,{bold:!0,children:"Sign Up"})})]}),(0,S.jsx)(h.xg,{children:(0,S.jsx)(x.r,{})})]})})}},3563:function(n,e,r){var t=r(3526);e.Z=function(n){return function(e){try{e((0,t.ED)(n))}catch(r){e((0,t.Z2)(r))}}}}}]);
//# sourceMappingURL=467.f64836d4.chunk.js.map